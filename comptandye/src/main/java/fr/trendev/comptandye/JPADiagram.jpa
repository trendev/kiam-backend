<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<jpa:entity-mappings xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:java="http://jcp.org/en/jsr/detail?id=270" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:jpa="http://java.sun.com/xml/ns/persistence/orm" pkg="fr.trendev.comptandye" v="3.6" rws="_14901008082912" Pws="_14901008082912" cws="_14901008082912" thm="PDarkColorScheme" dbthm="PLightColorScheme" ee="JAVA_EE_8" sm="false" xs="false" id="_14901008082901" xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm orm_2_1.xsd">
    <jpa:entity lbl-ref="_14901008440196" compositePrimaryKeyClass="UserAccountPK" abs="true" class="UserAccount" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490100823157">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901149376313047</jpa:a>
            <jpa:a>_14901008440196</jpa:a>
            <jpa:a>_149087938362378</jpa:a>
            <jpa:a>_149011954705724</jpa:a>
            <jpa:pre></jpa:pre>
            <jpa:post></jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:pre></jpa:pre>
            <jpa:post></jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonTypeInfo(use = JsonTypeInfo.Id.NAME,&#xA;        include = JsonTypeInfo.As.EXISTING_PROPERTY,&#xA;        property = &quot;cltype&quot;,&#xA;        visible = true)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonSubTypes({&#xA;  @JsonSubTypes.Type(value = Administrator.class, name = UserAccountType.ADMINISTRATOR), &#xA;  @JsonSubTypes.Type(value = Individual.class, name = UserAccountType.INDIVIDUAL),&#xA;  @JsonSubTypes.Type(value = Professional.class, name = UserAccountType.PROFESSIONAL)&#xA;})"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.UserAccountType;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:des>An UserAccount can be an Administrator, a Professional or an Individual. This class is linked to the jdbc-realm authentication.</jpa:des>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" am="PROTECTED" name="cltype" id="_1507709471227127">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="cltype field in UserAccount cannot be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="password" id="_14901008440196">
                <jpa:des>Password is never provided in clear.</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="username" id="_149087938362378">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="uuid" id="_149011954705724">
                <jpa:des>Autogenerated UUID, begins with PRO- for Professional users, IND- for Individual users and ADMIN- for Administrators (generated in the restapi services).
                    UUID is fixed during UserAccount creation and cannot be modified using restapi.</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="registrationDate" dv="new Date()" id="_149086726806159">
                <jpa:des>Autogenerated when a User is created</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="boolean" v="true" xvt="" name="blocked" dv="true" id="_1507994002476193">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="long" v="true" xvt="" name="lastAccessedTime" dv="System.currentTimeMillis()" id="_150807874242070">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-many own="true" collection-type="java.util.List" connected-entity-id="_1490100852900" connected-attribute-id="_14901160469883436" v="true" xvt="" name="userGroups" dv="new LinkedList&lt;&gt;()" id="_14901160469863435">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-persist/>
                    <jpa:cascade-merge/>
                    <jpa:cascade-detach/>
                </jpa:cascade>
            </jpa:many-to-many>
            <jpa:id attribute-type="String" v="true" xvt="" name="email" id="_14901149376313047">
                <jpa:des>The User id. Should be unique.</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="UserAccount.findAll">
            <jpa:query>Select e from UserAccount e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByEmail">
            <jpa:query>Select u from UserAccount u where u.email=:email</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByPassword">
            <jpa:query>Select u from UserAccount u where u.password=:password</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByEmail">
            <jpa:query>Select u from UserAccount u where u.email=:email</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByUuid">
            <jpa:query>Select u from UserAccount u where u.uuid=:uuid</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByUuid">
            <jpa:query>Select u from UserAccount u where u.uuid=:uuid</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByUuid">
            <jpa:query>Select u from UserAccount u where u.uuid=:uuid</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByRegistrationDate">
            <jpa:query>Select u from UserAccount u where u.registrationDate=:registrationDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByUsername">
            <jpa:query>Select u from UserAccount u where u.username=:username</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByUsername">
            <jpa:query>Select u from UserAccount u where u.username=:username</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByToken">
            <jpa:query>Select u from UserAccount u where u.token=:token</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByCltype">
            <jpa:query>Select u from UserAccount u where u.cltype=:cltype</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByBlocked">
            <jpa:query>Select u from UserAccount u where u.blocked=:blocked</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserAccount.findByLastAccessedTime">
            <jpa:query>Select u from UserAccount u where u.lastAccessedTime=:lastAccessedTime</jpa:query>
        </jpa:nq>
        <jpa:table name="USER_ACCOUNT"/>
        <jpa:inheritance strategy="SINGLE_TABLE"/>
        <jpa:discriminator-column/>
    </jpa:entity>
    <jpa:entity lbl-ref="_14901008529027" compositePrimaryKeyClass="UserGroupPK" abs="false" class="UserGroup" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490100852900">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901008529027</jpa:a>
            <jpa:a>_149062419655951</jpa:a>
            <jpa:pre></jpa:pre>
            <jpa:post></jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post></jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:des>User groups should be linked to User Accounts type but it's still possible to create many usergroup. This class is linked to jdbc-realm authentication.</jpa:des>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="description" id="_149062419655951">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-many collection-type="java.util.List" connected-entity-id="_1490100823157" connected-attribute-id="_14901160469863435" v="true" xvt="" name="userAccounts" dv="new LinkedList&lt;&gt;()" id="_14901160469883436">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-persist/>
                    <jpa:cascade-merge/>
                    <jpa:cascade-detach/>
                </jpa:cascade>
            </jpa:many-to-many>
            <jpa:id attribute-type="String" v="true" xvt="" name="name" id="_14901008529027">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="UserGroup.findAll">
            <jpa:query>Select e from UserGroup e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserGroup.findByName">
            <jpa:query>Select u from UserGroup u where u.name=:name</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="UserGroup.findByDescription">
            <jpa:query>Select u from UserGroup u where u.description=:description</jpa:query>
        </jpa:nq>
        <jpa:table name="USER_GROUP"/>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="CustomerPK" abs="true" class="Customer" superclassId="_1490100823157" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490101376664">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901149376313047</jpa:a>
            <jpa:a>_14901008440196</jpa:a>
            <jpa:a>_149087938362378</jpa:a>
            <jpa:a>_149011954705724</jpa:a>
            <jpa:pre></jpa:pre>
            <jpa:post>this.customerDetails = new CustomerDetails();
                this.address = new Address();
                this.socialNetworkAccounts = new SocialNetworkAccounts();</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901149376313047</jpa:a>
            <jpa:a>_14901008440196</jpa:a>
            <jpa:a>_149087938362378</jpa:a>
            <jpa:a>_149011954705724</jpa:a>
            <jpa:a>_14901093969381510</jpa:a>
            <jpa:a>_1503055153023119</jpa:a>
            <jpa:a>_1503055248950120</jpa:a>
            <jpa:pre></jpa:pre>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:pre>super();</jpa:pre>
            <jpa:post>this.customerDetails = new CustomerDetails();
                this.address = new Address();
                this.socialNetworkAccounts = new SocialNetworkAccounts();</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:des>Groups common fields between Professional and Individual</jpa:des>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:one-to-one own="true" orp="true" optional="true" primaryKey="false" connected-entity-id="_1490101578444" v="true" xvt="" name="customerDetails" id="_14901093969381510">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-one>
            <jpa:one-to-one own="true" orp="true" optional="true" primaryKey="false" connected-entity-id="_1490101737208" v="true" xvt="" name="address" id="_1503055153023119">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-one>
            <jpa:one-to-one own="true" orp="true" optional="true" primaryKey="false" connected-entity-id="_1490104062170" v="true" xvt="" name="socialNetworkAccounts" id="_1503055248950120">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-one>
        </jpa:attributes>
        <jpa:nq e="false" name="Customer.findAll">
            <jpa:query>Select e from Customer e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Customer.findByUsername">
            <jpa:query>Select c from Customer c where c.username=:username</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity lbl-ref="_14901008440196" compositePrimaryKeyClass="ProfessionalPK" abs="false" class="Professional" superclassId="_1490101376664" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490101456632">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901149376313047</jpa:a>
            <jpa:a>_14901008440196</jpa:a>
            <jpa:a>_149087938362378</jpa:a>
            <jpa:a>_149011954705724</jpa:a>
            <jpa:post>this.cltype = UserAccountType.PROFESSIONAL;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>super();
                this.cltype = UserAccountType.PROFESSIONAL;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901149376313047</jpa:a>
            <jpa:a>_14901008440196</jpa:a>
            <jpa:a>_149087938362378</jpa:a>
            <jpa:a>_149011954705724</jpa:a>
            <jpa:a>_1490104021917395</jpa:a>
            <jpa:a>_150556220260160</jpa:a>
            <jpa:a>_150001807687657</jpa:a>
            <jpa:a>_1503061008672135</jpa:a>
            <jpa:a>_1503061429501137</jpa:a>
            <jpa:a>_14901093969381510</jpa:a>
            <jpa:a>_1503055153023119</jpa:a>
            <jpa:a>_1503055248950120</jpa:a>
            <jpa:post>this.cltype = UserAccountType.PROFESSIONAL;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.UserAccountType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="website" id="_1490104021917395">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="companyName" id="_150556220260160">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="companyID" id="_150001807687657">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="vatcode" id="_1503061008672135">
                <jpa:des>Value Added Tax code</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="creationDate" id="_1503061429501137">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>DATE</jpa:temporal>
            </jpa:basic>
            <jpa:basic attribute-type="long" v="true" xvt="" name="billsCount" dv="0" id="_1514560844274158">
                <jpa:des>Must be only updated when a Bill is persisted. Should be unique and lock during concurent access and preserve Bill Number integrity.</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="billsRefDate" id="_1514567319873171">
                <jpa:des>The reference date on the Bill timeline. Must be only updated when a Bill is persisted.</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="stripeCustomerId" id="_1535569552216101">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="stripeSubscriptionId" id="_1535569599281110">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="boolean" v="true" xvt="" name="tos" id="_1535573444232715">
                <jpa:des>Terms of Service</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="rescissionDate" dv="new Date()" id="_1537623410825101">
                <jpa:des>When the Stripe Subscription has been rescinded</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="false" connected-entity-id="_1521215136542" v="true" xvt="" name="vatRates" id="_1521217263508375">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1490178979567" connected-attribute-id="_1490179812677393" v="true" xvt="" name="bills" dv="new LinkedList&lt;&gt;()" id="_1490179812678394">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" own="true" collection-type="java.util.List" connected-entity-id="_1503060694288" v="true" xvt="" name="businesses" dv="new LinkedList&lt;&gt;()" id="_1503060822737133">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1490101555530" connected-attribute-id="_1504895192868452" v="true" xvt="" name="clients" dv="new LinkedList&lt;&gt;()" id="_1504895192869453">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1490172966686" connected-attribute-id="_15049019949221632" v="true" xvt="" name="offerings" dv="new LinkedList&lt;&gt;()" id="_15049019949231633">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1490704206844" connected-attribute-id="_15049038294552105" v="true" xvt="" name="categories" dv="new LinkedList&lt;&gt;()" id="_15049038294572106">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1499512549878" connected-attribute-id="_150513285565066" v="true" xvt="" name="expenses" dv="new LinkedList&lt;&gt;()" id="_150513285566867">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1490281931338" connected-attribute-id="_150513719043493" v="true" xvt="" name="collectiveGroups" dv="new LinkedList&lt;&gt;()" id="_150513719043594">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1524841860187" connected-attribute-id="_1524841981057164" v="true" xvt="" name="stock" dv="new LinkedList()" id="_1524841981058165">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="true" collection-type="java.util.List" connected-entity-id="_1528899065548" connected-attribute-id="_1528899165846100" v="true" xvt="" name="notifications" dv="new LinkedList()" id="_1528899165848101">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:many-to-many collection-type="java.util.List" connected-entity-id="_1490101520286" connected-attribute-id="_1490180547173493" v="true" xvt="" name="individuals" dv="new LinkedList&lt;&gt;()" id="_1490180547178494">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-many>
            <jpa:many-to-many own="true" collection-type="java.util.List" connected-entity-id="_1490184243036" v="true" xvt="" name="paymentModes" dv="new LinkedList&lt;&gt;()" id="_149020649962680">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-many>
            <jpa:version attribute-type="long" v="true" xvt="" name="version" dv="0l" id="_1514559136297133">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:version>
        </jpa:attributes>
        <jpa:nq e="false" name="Professional.findAll">
            <jpa:query>Select e from Professional e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByTwitter">
            <jpa:query>Select p from Professional p where p.twitter=:twitter</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByWebsite">
            <jpa:query>Select p from Professional p where p.website=:website</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByFacebook">
            <jpa:query>Select p from Professional p where p.facebook=:facebook</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByInstagram">
            <jpa:query>Select p from Professional p where p.instagram=:instagram</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByPinterest">
            <jpa:query>Select p from Professional p where p.pinterest=:pinterest</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByBusiness">
            <jpa:query>Select p from Professional p where p.business=:business</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByCompanyID">
            <jpa:query>Select p from Professional p where p.companyID=:companyID</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByVatcode">
            <jpa:query>Select p from Professional p where p.vatcode=:vatcode</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByAttribute1">
            <jpa:query>Select p from Professional p where p.attribute1=:attribute1</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByCreationDate">
            <jpa:query>Select p from Professional p where p.creationDate=:creationDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByCompanyName">
            <jpa:query>Select p from Professional p where p.companyName=:companyName</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByAttribute1">
            <jpa:query>Select p from Professional p where p.attribute1=:attribute1</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByBillsCount">
            <jpa:query>Select p from Professional p where p.billsCount=:billsCount</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByBillsRefDate">
            <jpa:query>Select p from Professional p where p.billsRefDate=:billsRefDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByStripeCustomerId">
            <jpa:query>Select p from Professional p where p.stripeCustomerId=:stripeCustomerId</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByStripeSubscriptionId">
            <jpa:query>Select p from Professional p where p.stripeSubscriptionId=:stripeSubscriptionId</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByTos">
            <jpa:query>Select p from Professional p where p.tos=:tos</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByAttribute1">
            <jpa:query>Select p from Professional p where p.attribute1=:attribute1</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Professional.findByRescissionDate">
            <jpa:query>Select p from Professional p where p.rescissionDate=:rescissionDate</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="IndividualPK" abs="false" class="Individual" superclassId="_1490101376664" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490101520286">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901149376313047</jpa:a>
            <jpa:a>_14901008440196</jpa:a>
            <jpa:a>_149087938362378</jpa:a>
            <jpa:a>_149011954705724</jpa:a>
            <jpa:post>this.cltype = UserAccountType.INDIVIDUAL;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>super();
                this.cltype = UserAccountType.INDIVIDUAL;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901149376313047</jpa:a>
            <jpa:a>_14901008440196</jpa:a>
            <jpa:a>_149087938362378</jpa:a>
            <jpa:a>_149011954705724</jpa:a>
            <jpa:a>_14901093969381510</jpa:a>
            <jpa:a>_1503055153023119</jpa:a>
            <jpa:a>_1503055248950120</jpa:a>
            <jpa:post>this.cltype = UserAccountType.INDIVIDUAL;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.UserAccountType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1490180671085" connected-attribute-id="_150652336702164" v="true" xvt="" name="individualBills" dv="new LinkedList&lt;&gt;()" id="_150652336703465">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:many-to-many own="true" collection-type="java.util.List" connected-entity-id="_1490101456632" connected-attribute-id="_1490180547178494" v="true" xvt="" name="professionals" dv="new LinkedList&lt;&gt;()" id="_1490180547173493">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-many>
        </jpa:attributes>
        <jpa:nq e="false" name="Individual.findAll">
            <jpa:query>Select e from Individual e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyType="D" compositePrimaryKeyClass="ClientPK" abs="false" class="Client" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490101555530">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490283378549192</jpa:a>
            <jpa:a>_1504895192868452</jpa:a>
            <jpa:post>this.customerDetails = new CustomerDetails();
                this.address = new Address();
                this.socialNetworkAccounts = new SocialNetworkAccounts();</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.customerDetails = new CustomerDetails();
                this.address = new Address();
                this.socialNetworkAccounts = new SocialNetworkAccounts();</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490283378549192</jpa:a>
            <jpa:a>_149028166301044</jpa:a>
            <jpa:a>_1490283406937193</jpa:a>
            <jpa:a>_1503055318751123</jpa:a>
            <jpa:a>_1504895192868452</jpa:a>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="email" id="_1490283378549192">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1490101456632" connected-attribute-id="_1504895192869453" v="true" xvt="" name="professional" id="_1504895192868452">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-column name="CLIENT_PRO_EMAIL" rc="EMAIL" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table=""/>
            </jpa:many-to-one>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1490180682743" connected-attribute-id="_1490181195212606" v="true" xvt="" name="clientBills" dv="new LinkedList&lt;&gt;()" id="_1490181195213607">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-one own="true" orp="true" optional="true" primaryKey="false" connected-entity-id="_1490104062170" v="true" xvt="" name="socialNetworkAccounts" id="_149028166301044">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-one>
            <jpa:one-to-one own="true" orp="true" optional="true" primaryKey="false" connected-entity-id="_1490101578444" v="true" xvt="" name="customerDetails" id="_1490283406937193">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-one>
            <jpa:one-to-one own="true" orp="true" optional="true" primaryKey="false" connected-entity-id="_1490101737208" v="true" xvt="" name="address" id="_1503055318751123">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-one>
            <jpa:many-to-many own="true" collection-type="java.util.List" connected-entity-id="_1490704206844" connected-attribute-id="_1503077170376625" v="true" xvt="" name="categories" dv="new LinkedList&lt;&gt;()" id="_1503077170356624">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-many>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_149010155553255">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:column name="CLIENT_ID" unique="false" nullable="true" insertable="true" updatable="true"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Client.findAll">
            <jpa:query>Select e from Client e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Client.findByFirstName">
            <jpa:query>Select c from Client c where c.firstName=:firstName</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Client.findByLastName">
            <jpa:query>Select c from Client c where c.lastName=:lastName</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Client.findByEmail">
            <jpa:query>Select c from Client c where c.email=:email</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Client.findByEmail">
            <jpa:query>Select c from Client c where c.email=:email</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="CustomerDetailsPK" abs="false" class="CustomerDetails" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490101578444">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_149010159285359</jpa:a>
            <jpa:a>_149010160079560</jpa:a>
            <jpa:a>_1490105587212561</jpa:a>
            <jpa:a>_149010163278061</jpa:a>
            <jpa:a>_149010163896262</jpa:a>
            <jpa:a>_149010166120363</jpa:a>
            <jpa:a>_149010168028264</jpa:a>
            <jpa:a>_149098087463456</jpa:a>
            <jpa:pre></jpa:pre>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post></jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:annotation e="true" n="@java.lang.SuppressWarnings(&quot;unchecked&quot;)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.ArrayList;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="firstName" id="_149010159285359">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="lastName" id="_149010160079560">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="nickname" id="_1490105587212561">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="phone" id="_149010163278061">
                <jpa:des>The phone is represented by a String. At the present time, no regexp validation is performed.</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="birthdate" id="_149010163896262">
                <jpa:des>Birthdate is stored in DB as DATETIME(3). In order to avoid issues with javascript/JAVA conversion on Dates before 1970 and earlier, we've decided to store the DATETIME and let down the DATE only.</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:pa m="Birthdate cannot be today or in the future..."/>
                </jpa:bv>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="char" v="true" xvt="" name="sex" dv="'F'" id="_149010166120363">
                <jpa:des>Should be 'F' or 'M'</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="picturePath" id="_149010168028264">
                <jpa:des>Path on the server FS - not used at the present time</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:element-collection target-class="java.lang.String" collection-type="java.util.List" v="true" xvt="" name="comments" dv="new ArrayList&lt;&gt;()" id="_149098087463456">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:element-collection>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_149010157844757">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="CustomerDetails.findAll">
            <jpa:query>Select e from CustomerDetails e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CustomerDetails.findByFirstName">
            <jpa:query>Select c from CustomerDetails c where c.firstName=:firstName</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CustomerDetails.findByLastName">
            <jpa:query>Select c from CustomerDetails c where c.lastName=:lastName</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CustomerDetails.findByPhone">
            <jpa:query>Select c from CustomerDetails c where c.phone=:phone</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CustomerDetails.findByBirthdate">
            <jpa:query>Select c from CustomerDetails c where c.birthdate=:birthdate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CustomerDetails.findBySex">
            <jpa:query>Select c from CustomerDetails c where c.sex=:sex</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CustomerDetails.findByPicturePath">
            <jpa:query>Select c from CustomerDetails c where c.picturePath=:picturePath</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CustomerDetails.findByNickname">
            <jpa:query>Select c from CustomerDetails c where c.nickname=:nickname</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CustomerDetails.findByComments">
            <jpa:query>Select c from CustomerDetails c where c.comments=:comments</jpa:query>
        </jpa:nq>
        <jpa:table name="CUSTOMER_DETAILS"/>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="AddressPK" abs="false" class="Address" v="true" pkg="address.entities" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490101737208">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_149010174910869</jpa:a>
            <jpa:a>_149331184908654</jpa:a>
            <jpa:a>_149010175746470</jpa:a>
            <jpa:a>_149010176456971</jpa:a>
            <jpa:a>_149010176933672</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_149010174910869</jpa:a>
            <jpa:a>_149331184908654</jpa:a>
            <jpa:a>_149010175746470</jpa:a>
            <jpa:a>_149010176456971</jpa:a>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="street" id="_149010174910869">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="optional" id="_149331184908654">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="postalCode" id="_149010175746470">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="city" id="_149010176456971">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="country" dv="&quot;France&quot;" id="_149010176933672">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_149010173721267">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Address.findAll">
            <jpa:query>Select e from Address e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Address.findByStreet">
            <jpa:query>Select a from Address a where a.street=:street</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Address.findByPostalCode">
            <jpa:query>Select a from Address a where a.postalCode=:postalCode</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Address.findByCity">
            <jpa:query>Select a from Address a where a.city=:city</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Address.findByCountry">
            <jpa:query>Select a from Address a where a.country=:country</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Address.findByOptional">
            <jpa:query>Select a from Address a where a.optional=:optional</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="SocialNetworkAccountsPK" abs="false" class="SocialNetworkAccounts" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490104062170">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490104873485484</jpa:a>
            <jpa:a>_1490104876952485</jpa:a>
            <jpa:a>_1490104879382486</jpa:a>
            <jpa:a>_1490104881966487</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="facebook" id="_1490104873485484">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="twitter" id="_1490104876952485">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="instagram" id="_1490104879382486">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="pinterest" id="_1490104881966487">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_1490104062174399">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="SocialNetworkAccountses.findAll">
            <jpa:query>Select e from SocialNetworkAccountses e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="SocialNetworkAccountses.findByFacebook">
            <jpa:query>Select s from SocialNetworkAccountses s where s.facebook=:facebook</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="SocialNetworkAccountses.findByTwitter">
            <jpa:query>Select s from SocialNetworkAccountses s where s.twitter=:twitter</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="SocialNetworkAccountses.findByInstagram">
            <jpa:query>Select s from SocialNetworkAccountses s where s.instagram=:instagram</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="SocialNetworkAccountses.findByPinterest">
            <jpa:query>Select s from SocialNetworkAccountses s where s.pinterest=:pinterest</jpa:query>
        </jpa:nq>
        <jpa:table name="SOCIAL_NETWORK_ACCOUNT"/>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="ServicePK" abs="false" class="Service" superclassId="_1490172966686" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490113751330">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490176760174139</jpa:a>
            <jpa:a>_1490176780392140</jpa:a>
            <jpa:a>_150488904917075</jpa:a>
            <jpa:a>_15049019949221632</jpa:a>
            <jpa:post>this.cltype = OfferingType.SERVICE;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.cltype = OfferingType.SERVICE;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.OfferingType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes/>
        <jpa:nq e="false" name="Service.findAll">
            <jpa:query>Select e from Service e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Service.findByName">
            <jpa:query>Select s from Service s where s.name=:name</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Service.findByPrice">
            <jpa:query>Select s from Service s where s.price=:price</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Service.findByDuration">
            <jpa:query>Select s from Service s where s.duration=:duration</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Service.findByDuration">
            <jpa:query>Select s from Service s where s.duration=:duration</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="PackPK" abs="false" class="Pack" superclassId="_1490172966686" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490113906035">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490176760174139</jpa:a>
            <jpa:a>_1490176780392140</jpa:a>
            <jpa:a>_150488904917075</jpa:a>
            <jpa:a>_15049019949221632</jpa:a>
            <jpa:post>this.cltype = OfferingType.PACK;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.cltype = OfferingType.PACK;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.OfferingType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:many-to-many own="true" collection-type="java.util.List" connected-entity-id="_1490172966686" connected-attribute-id="_1513010994296215" v="true" xvt="" name="offerings" dv="new LinkedList&lt;&gt;()" id="_1513010994290214">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-table name="PACK_CONTENT">
                    <jpa:join-column name="PACK_ID" rc="OFFERING_ID" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table="OFFERING"/>
                    <jpa:join-column name="PACK_PROFESSIONAL_EMAIL" rc="OFFERING_PRO_EMAIL" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table="OFFERING"/>
                </jpa:join-table>
            </jpa:many-to-many>
        </jpa:attributes>
        <jpa:nq e="false" name="Pack.findAll">
            <jpa:query>Select e from Pack e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Pack.findByName">
            <jpa:query>Select s from Pack s where s.name=:name</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Pack.findByTotalPrice">
            <jpa:query>Select s from Pack s where s.totalPrice=:totalPrice</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyType="D" compositePrimaryKeyClass="OfferingPK" abs="true" class="Offering" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490172966686">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490176760174139</jpa:a>
            <jpa:a>_1490176780392140</jpa:a>
            <jpa:a>_150488904917075</jpa:a>
            <jpa:a>_15049019949221632</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonTypeInfo(use = JsonTypeInfo.Id.NAME,&#xA;        include = JsonTypeInfo.As.EXISTING_PROPERTY,&#xA;        property = &quot;cltype&quot;,&#xA;        visible = true)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonSubTypes({&#xA;  @JsonSubTypes.Type(value = Service.class, name = OfferingType.SERVICE), &#xA;  @JsonSubTypes.Type(value = Pack.class, name = OfferingType.PACK),&#xA;  @JsonSubTypes.Type(value = Sale.class, name = OfferingType.SALE)&#xA;})"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.OfferingType;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" am="PROTECTED" name="cltype" id="_1505476643021217">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="cltype field in Offering cannot be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="name" id="_1490176760174139">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="shortname" id="_1514998018986206">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="price" id="_1490176780392140">
                <jpa:des>reference price, based on Euro cents</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="duration" id="_150488904917075">
                <jpa:des>Duration (in minutes)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1490101456632" connected-attribute-id="_15049019949231633" v="true" xvt="" name="professional" id="_15049019949221632">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-column name="OFFERING_PRO_EMAIL" rc="EMAIL" unique="false" nullable="false" insertable="true" updatable="false" column-definition="" table=""/>
            </jpa:many-to-one>
            <jpa:one-to-many orp="false" own="true" collection-type="java.util.List" connected-entity-id="_1503060694288" v="true" xvt="" name="businesses" dv="new LinkedList&lt;&gt;()" id="_150537690133858">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1506344869339" connected-attribute-id="_1512851997729268" v="true" xvt="" name="purchasedOfferings" dv="new LinkedList&lt;&gt;()" id="_1512851997730269">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:one-to-many>
            <jpa:many-to-many collection-type="java.util.List" connected-entity-id="_1490113906035" connected-attribute-id="_1513010994290214" v="true" xvt="" name="parentPacks" dv="new LinkedList&lt;&gt;()" id="_1513010994296215">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-many>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" ft="true" id="_149017296671124">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:column name="OFFERING_ID" unique="false" nullable="true" insertable="true" updatable="true"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Offering.findAll">
            <jpa:query>Select e from Offering e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Offering.findByName">
            <jpa:query>Select o from Offering o where o.name=:name</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Offering.findByPrice">
            <jpa:query>Select o from Offering o where o.price=:price</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Offering.findByDuration">
            <jpa:query>Select o from Offering o where o.duration=:duration</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Offering.findByDuration">
            <jpa:query>Select o from Offering o where o.duration=:duration</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Offering.findByHidden">
            <jpa:query>Select o from Offering o where o.hidden=:hidden</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Offering.findByCltype">
            <jpa:query>Select o from Offering o where o.cltype=:cltype</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Offering.findByShortname">
            <jpa:query>Select o from Offering o where o.shortname=:shortname</jpa:query>
        </jpa:nq>
        <jpa:discriminator-column/>
    </jpa:entity>
    <jpa:entity lbl-ref="_149017899245630" compositePrimaryKeyType="D" compositePrimaryKeyClass="BillPK" abs="true" class="Bill" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490178979567">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490181067111504</jpa:a>
            <jpa:a>_1490181108037605</jpa:a>
            <jpa:a>_149017899245630</jpa:a>
            <jpa:a>_149017912276532</jpa:a>
            <jpa:a>_149018414188437</jpa:a>
            <jpa:a>_1503066002122403</jpa:a>
            <jpa:a>_1490179812677393</jpa:a>
            <jpa:a>_150365567487858</jpa:a>
            <jpa:a>_15063449426451264</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:annotation e="true" n="@java.lang.SuppressWarnings(&quot;unchecked&quot;)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonTypeInfo(use = JsonTypeInfo.Id.NAME,&#xA;        include = JsonTypeInfo.As.EXISTING_PROPERTY,&#xA;        property = &quot;cltype&quot;,&#xA;        visible = true)&#xA;"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonSubTypes({&#xA;    @JsonSubTypes.Type(value = ClientBill.class,&#xA;            name = BillType.CLIENT)&#xA;    ,   @JsonSubTypes.Type(value = IndividualBill.class,&#xA;            name = BillType.INDIVIDUAL)&#xA;    ,  @JsonSubTypes.Type(value = CollectiveGroupBill.class,&#xA;            name = BillType.COLLECTIVEGROUP)})"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.BillType;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" am="PROTECTED" name="cltype" id="_1505479466713230">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="cltype field in Bill cannot be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="amount" id="_149017899245630">
                <jpa:des>Amount in cents (1/100 of the currency)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="currency" dv="&quot;EUR&quot;" id="_15063540517881481">
                <jpa:des>Default value is Euros (EUR)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="discount" id="_149017912276532">
                <jpa:des>the discount amount</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="paymentDate" id="_149018414188437">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="issueDate" dv="new Date()" id="_1514830436839133">
                <jpa:des>used for audit and sort the bills</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="boolean" v="true" xvt="" name="vatInclusive" dv="false" id="_1521217569466382">
                <jpa:des>mark if the bill is vat inclusive or not</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="boolean" v="true" xvt="" name="cancelled" dv="false" id="_1521218230422384">
                <jpa:des>mark if a bill is cancelled or not</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="cancellationDate" id="_1524065459077662">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1490101456632" connected-attribute-id="_1490179812678394" v="true" xvt="" name="professional" id="_1490179812677393">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-column name="PROFESSIONAL_EMAIL" rc="EMAIL" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table=""/>
            </jpa:many-to-one>
            <jpa:one-to-many orp="true" own="true" collection-type="java.util.List" connected-entity-id="_1490206901623" v="true" xvt="" name="payments" dv="new LinkedList&lt;&gt;()" id="_150365567487858">
                <jpa:des>Should be ignored during a PUT</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-persist/>
                    <jpa:cascade-merge/>
                    <jpa:cascade-remove/>
                    <jpa:cascade-detach/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="true" own="true" collection-type="java.util.List" connected-entity-id="_1506344869339" v="true" xvt="" name="purchasedOfferings" dv="new LinkedList&lt;&gt;()" id="_15063449426451264">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-persist/>
                    <jpa:cascade-merge/>
                    <jpa:cascade-remove/>
                    <jpa:cascade-detach/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:element-collection target-class="java.lang.String" collection-type="java.util.List" v="true" xvt="" name="comments" dv="new LinkedList&lt;&gt;()" id="_1503066002122403">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:element-collection>
            <jpa:id attribute-type="String" v="true" xvt="" name="reference" id="_1490181067111504">
                <jpa:des>Will be automatically generated based on the deliveryDate, the Professional email and a timestamp.</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value/>
            </jpa:id>
            <jpa:id attribute-type="java.util.Date" v="true" xvt="" name="deliveryDate" id="_1490181108037605">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3) NOT NULL"/>
                <jpa:generated-value/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Bill.findAll">
            <jpa:query>Select e from Bill e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByAmount">
            <jpa:query>Select b from Bill b where b.amount=:amount</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByDeliveryDate">
            <jpa:query>Select b from Bill b where b.deliveryDate=:deliveryDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByDiscount">
            <jpa:query>Select b from Bill b where b.discount=:discount</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByPaymentDate">
            <jpa:query>Select b from Bill b where b.paymentDate=:paymentDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByComment">
            <jpa:query>Select b from Bill b where b.comment=:comment</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByCltype">
            <jpa:query>Select b from Bill b where b.cltype=:cltype</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByCurrency">
            <jpa:query>Select b from Bill b where b.currency=:currency</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByIssueDate">
            <jpa:query>Select b from Bill b where b.issueDate=:issueDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByVatInclusive">
            <jpa:query>Select b from Bill b where b.vatInclusive=:vatInclusive</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByCancelled">
            <jpa:query>Select b from Bill b where b.cancelled=:cancelled</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Bill.findByCancellationDate">
            <jpa:query>Select b from Bill b where b.cancellationDate=:cancellationDate</jpa:query>
        </jpa:nq>
        <jpa:discriminator-column/>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="IndividualBillPK" abs="false" class="IndividualBill" superclassId="_1490178979567" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490180671085">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490181067111504</jpa:a>
            <jpa:a>_1490181108037605</jpa:a>
            <jpa:a>_149017899245630</jpa:a>
            <jpa:a>_149017912276532</jpa:a>
            <jpa:a>_149018414188437</jpa:a>
            <jpa:a>_1503066002122403</jpa:a>
            <jpa:a>_1490179812677393</jpa:a>
            <jpa:a>_150652336702164</jpa:a>
            <jpa:a>_150365567487858</jpa:a>
            <jpa:a>_15063449426451264</jpa:a>
            <jpa:post>this.cltype = BillType.INDIVIDUAL;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.cltype = BillType.INDIVIDUAL;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.Date;
            import java.util.List;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.BillType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:many-to-one optional="true" primaryKey="false" connected-entity-id="_1490101520286" connected-attribute-id="_150652336703465" v="true" xvt="" name="individual" id="_150652336702164">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
        </jpa:attributes>
        <jpa:nq e="false" name="IndividualBill.findAll">
            <jpa:query>Select e from IndividualBill e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="ClientBillPK" abs="false" class="ClientBill" superclassId="_1490178979567" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490180682743">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490181067111504</jpa:a>
            <jpa:a>_1490181108037605</jpa:a>
            <jpa:a>_149017899245630</jpa:a>
            <jpa:a>_149017912276532</jpa:a>
            <jpa:a>_149018414188437</jpa:a>
            <jpa:a>_1503066002122403</jpa:a>
            <jpa:a>_1490179812677393</jpa:a>
            <jpa:a>_1490181195212606</jpa:a>
            <jpa:a>_150365567487858</jpa:a>
            <jpa:a>_15063449426451264</jpa:a>
            <jpa:post>this.cltype = BillType.CLIENT;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.cltype = BillType.CLIENT;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.Date;
            import java.util.List;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.BillType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:many-to-one optional="true" primaryKey="false" connected-entity-id="_1490101555530" connected-attribute-id="_1490181195213607" v="true" xvt="" name="client" id="_1490181195212606">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
        </jpa:attributes>
        <jpa:nq e="false" name="ClientBill.findAll">
            <jpa:query>Select e from ClientBill e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="PaymentModePK" abs="false" class="PaymentMode" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490184243036">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_149020688052381</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:id attribute-type="String" v="true" xvt="" name="name" id="_149020688052381">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="PaymentMode.findAll">
            <jpa:query>Select e from PaymentMode e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="PaymentMode.findByMethod">
            <jpa:query>Select p from PaymentMode p where p.method=:method</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="PaymentMode.findByName">
            <jpa:query>Select p from PaymentMode p where p.name=:name</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="PaymentPK" abs="false" class="Payment" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490206901623">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_149020701195485</jpa:a>
            <jpa:a>_1503081214518630</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post></jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="int" v="true" xvt="" name="amount" id="_149020701195485">
                <jpa:des>Amount in cents (1/100 of the currency)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:one-to-one own="true" orp="false" optional="false" primaryKey="false" connected-entity-id="_1490184243036" v="true" xvt="" name="paymentMode" id="_1503081214518630">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:one-to-one>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_149020690169583">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Payment.findAll">
            <jpa:query>Select e from Payment e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Payment.findByAmount">
            <jpa:query>Select p from Payment p where p.amount=:amount</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Payment.findByCurrency">
            <jpa:query>Select p from Payment p where p.currency=:currency</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyType="D" compositePrimaryKeyClass="CollectiveGroupPK" abs="false" class="CollectiveGroup" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490281931338">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490282399999187</jpa:a>
            <jpa:a>_1505826302473119</jpa:a>
            <jpa:a>_150513719043493</jpa:a>
            <jpa:post>this.address = new Address();</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490282399999187</jpa:a>
            <jpa:a>_1505826302473119</jpa:a>
            <jpa:a>_1490283543806197</jpa:a>
            <jpa:a>_150513719043493</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.address = new Address();</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="groupName" id="_1490282399999187">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="phone" id="_1505826302473119">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1490101456632" connected-attribute-id="_150513719043594" v="true" xvt="" name="professional" id="_150513719043493">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-column name="COLLECTIVE_GROUP_PRO_EMAIL" rc="EMAIL" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table=""/>
            </jpa:many-to-one>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1506009883340" connected-attribute-id="_1506010011239530" v="true" xvt="" name="collectiveGroupBills" dv="new LinkedList&lt;&gt;()" id="_1506010011241531">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-one own="true" orp="true" optional="true" primaryKey="false" connected-entity-id="_1490101737208" v="true" xvt="" name="address" id="_1490283543806197">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-one>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_1490283461395196">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:column name="COLLECTIVE_GROUP_ID" unique="false" nullable="true" insertable="true" updatable="true"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="CollectiveGroup.findAll">
            <jpa:query>Select e from CollectiveGroup e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CollectiveGroup.findByGroupName">
            <jpa:query>Select c from CollectiveGroup c where c.groupName=:groupName</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CollectiveGroup.findByPhone">
            <jpa:query>Select c from CollectiveGroup c where c.phone=:phone</jpa:query>
        </jpa:nq>
        <jpa:table name="COLLECTIVE_GROUP"/>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="AdministratorPK" abs="false" class="Administrator" superclassId="_1490100823157" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490704123469">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_14901149376313047</jpa:a>
            <jpa:a>_14901008440196</jpa:a>
            <jpa:a>_149087938362378</jpa:a>
            <jpa:a>_149011954705724</jpa:a>
            <jpa:pre></jpa:pre>
            <jpa:post>this.cltype = UserAccountType.ADMINISTRATOR;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:pre>super();</jpa:pre>
            <jpa:post>this.cltype = UserAccountType.ADMINISTRATOR;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.UserAccountType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes/>
        <jpa:nq e="false" name="Administrator.findAll">
            <jpa:query>Select e from Administrator e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyType="D" compositePrimaryKeyClass="CategoryPK" abs="false" class="Category" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1490704206844">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490704221835111</jpa:a>
            <jpa:a>_1490704473418120</jpa:a>
            <jpa:a>_15049038294552105</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="description" id="_1490704221835111">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="name" id="_1490704473418120">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1490101456632" connected-attribute-id="_15049038294572106" v="true" xvt="" name="professional" id="_15049038294552105">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-column name="CATEGORY_PRO_EMAIL" rc="EMAIL" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table=""/>
            </jpa:many-to-one>
            <jpa:many-to-many collection-type="java.util.List" connected-entity-id="_1490101555530" connected-attribute-id="_1503077170356624" v="true" xvt="" name="clients" dv="new LinkedList&lt;&gt;()" id="_1503077170376625">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-many>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_1490704207066109">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:column name="CATEGORY_ID" unique="false" nullable="true" insertable="true" updatable="true"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Category.findAll">
            <jpa:query>Select e from Category e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Category.findByDescription">
            <jpa:query>Select c from Category c where c.description=:description</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Category.findByName">
            <jpa:query>Select c from Category c where c.name=:name</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyType="D" compositePrimaryKeyClass="ExpensePK" abs="true" class="Expense" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1499512549878">
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:annotation e="true" n="@java.lang.SuppressWarnings(&quot;unchecked&quot;)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonTypeInfo(use = JsonTypeInfo.Id.NAME,&#xA;        include = JsonTypeInfo.As.EXISTING_PROPERTY,&#xA;        property = &quot;cltype&quot;,&#xA;        visible = true)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonSubTypes({&#xA;    @JsonSubTypes.Type(value = ClassicExpense.class,&#xA;            name = ExpenseType.CLASSIC_EXPENSE)&#xA;    ,   @JsonSubTypes.Type(value = PurchaseExpense.class,&#xA;            name = ExpenseType.PURCHASE_EXPENSE)})"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.ExpenseType;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" am="PROTECTED" name="cltype" id="_152725396888897">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="cltype field in Expense must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="description" id="_149951257358656">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="description field in Expense must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="amount" id="_149951257579557">
                <jpa:des>Amount in cents (1/100 of the currency)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="currency" dv="&quot;EUR&quot;" id="_15063539808241480">
                <jpa:des>Default value is Euros (EUR)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="currency field in Expense must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="paymentDate" id="_149951257869758">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="paymentDate field in Expense must not be null"/>
                    <jpa:pa m="paymentDate field in Expense must not be a futur date"/>
                </jpa:bv>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="issueDate" dv="new Date()" id="_1526395076737176">
                <jpa:des>used for audit and sort the bills</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="issueDate field in Expense must not be null"/>
                </jpa:bv>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="provider" id="_1522937121103644">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="provider field in Expense must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="boolean" v="true" xvt="" name="cancelled" dv="false" id="_1524065311723661">
                <jpa:des>mark if an expense is cancelled or not</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="cancellationDate" id="_1524065569462663">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="boolean" v="true" xvt="" name="vatInclusive" dv="false" id="_152483500212072">
                <jpa:des>mark if the expense is vat inclusive or not</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1490101456632" connected-attribute-id="_150513285566867" v="true" xvt="" name="professional" id="_150513285565066">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-column name="EXPENSE_PRO_EMAIL" rc="EMAIL" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table=""/>
            </jpa:many-to-one>
            <jpa:one-to-many orp="true" own="true" collection-type="java.util.List" connected-entity-id="_1490206901623" v="true" xvt="" name="payments" dv="new LinkedList&lt;&gt;()" id="_1505144351224341">
                <jpa:des>Should be ignored during a PUT</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="payments field in Expense must not be null"/>
                </jpa:bv>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" own="true" collection-type="java.util.List" connected-entity-id="_1503060694288" v="true" xvt="" name="businesses" dv="new LinkedList&lt;&gt;()" id="_150549566057859">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="businesses field in Expense must not be null"/>
                </jpa:bv>
            </jpa:one-to-many>
            <jpa:one-to-many orp="true" own="true" collection-type="java.util.List" connected-entity-id="_1524835087412" v="true" xvt="" name="expenseItems" dv="new LinkedList&lt;&gt;()" id="_152483548676279">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:element-collection target-class="java.lang.String" collection-type="java.util.List" v="true" xvt="" name="categories" dv="new LinkedList&lt;&gt;()" id="_149951274256360">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="comments field in Expense must not be null"/>
                </jpa:bv>
            </jpa:element-collection>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_149951255029954">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:column name="EXPENSE_ID" unique="false" nullable="true" insertable="true" updatable="true"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Expense.findAll">
            <jpa:query>Select e from Expense e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByDescription">
            <jpa:query>Select e from Expense e where e.description=:description</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByAmount">
            <jpa:query>Select e from Expense e where e.amount=:amount</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByPaymentDate">
            <jpa:query>Select e from Expense e where e.paymentDate=:paymentDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByCategory">
            <jpa:query>Select e from Expense e where e.category=:category</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByInvoiceRef">
            <jpa:query>Select e from Expense e where e.invoiceRef=:invoiceRef</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByCurrency">
            <jpa:query>Select e from Expense e where e.currency=:currency</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByProvider">
            <jpa:query>Select e from Expense e where e.provider=:provider</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByVatRate">
            <jpa:query>Select e from Expense e where e.vatRate=:vatRate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByCancelled">
            <jpa:query>Select e from Expense e where e.cancelled=:cancelled</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByCancellationDate">
            <jpa:query>Select e from Expense e where e.cancellationDate=:cancellationDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByCancellable">
            <jpa:query>Select e from Expense e where e.cancellable=:cancellable</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByVatInclusive">
            <jpa:query>Select e from Expense e where e.vatInclusive=:vatInclusive</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Expense.findByIssueDate">
            <jpa:query>Select e from Expense e where e.issueDate=:issueDate</jpa:query>
        </jpa:nq>
        <jpa:discriminator-column/>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="BusinessPK" abs="false" class="Business" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1503060694288">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1503060753512132</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:id attribute-type="String" v="true" xvt="" name="designation" id="_1503060753512132">
                <jpa:des>the business designation (name)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Business.findAll">
            <jpa:query>Select e from Business e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Business.findByDescription">
            <jpa:query>Select b from Business b where b.description=:description</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="CollectiveGroupBillPK" abs="false" class="CollectiveGroupBill" superclassId="_1490178979567" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1506009883340">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490181067111504</jpa:a>
            <jpa:a>_1490181108037605</jpa:a>
            <jpa:a>_149017899245630</jpa:a>
            <jpa:a>_149017912276532</jpa:a>
            <jpa:a>_149018414188437</jpa:a>
            <jpa:a>_1503066002122403</jpa:a>
            <jpa:a>_1490179812677393</jpa:a>
            <jpa:a>_1506010011239530</jpa:a>
            <jpa:a>_150365567487858</jpa:a>
            <jpa:a>_15063449426451264</jpa:a>
            <jpa:post>this.cltype = BillType.COLLECTIVEGROUP;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.cltype = BillType.COLLECTIVEGROUP;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.Date;
            import java.util.List;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.BillType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="recipient" id="_1519918697987139">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="false" connected-entity-id="_1490281931338" connected-attribute-id="_1506010011241531" v="true" xvt="" name="collectiveGroup" id="_1506010011239530">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
        </jpa:attributes>
        <jpa:nq e="false" name="CollectiveGroupBill.findAll">
            <jpa:query>Select e from CollectiveGroupBill e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="CollectiveGroupBill.findByRecipient">
            <jpa:query>Select c from CollectiveGroupBill c where c.recipient=:recipient</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="PurchasedOfferingPK" abs="false" class="PurchasedOffering" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1506344869339">
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_15063452150691272</jpa:a>
            <jpa:a>_1512851997729268</jpa:a>
            <jpa:post>this.offeringSnapshot = new OfferingSnapshot(offering);
                this.offeringExtents = new OfferingExtents(offering);

                /* Offering/PurchasedOffering links are set/destroyed in the rest api services */
                // this.offering.getPurchasedOfferings().add(this); */

            </jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp e="false">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:snp loc="IMPORT" e="false">import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="int" v="true" xvt="" name="qty" dv="1" id="_15063452150691272">
                <jpa:des>Quantity</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.math.BigDecimal" v="true" xvt="" name="vatRate" id="_1521217784391383">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="false" precision="5" scale="2"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="false" connected-entity-id="_1490172966686" connected-attribute-id="_1512851997730269" v="true" xvt="" name="offering" id="_1512851997729268">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
            <jpa:embedded connected-class-id="_1512853437669" v="true" xvt="" name="offeringSnapshot" dv="new OfferingSnapshot()" id="_1512854117900652">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:embedded>
            <jpa:embedded connected-class-id="_1524046966670" v="true" xvt="" name="offeringExtents" id="_152404704583077">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:embedded>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_15063448694401262">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="PurchasedOffering.findAll">
            <jpa:query>Select e from PurchasedOffering e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="PurchasedOffering.findByQty">
            <jpa:query>Select p from PurchasedOffering p where p.qty=:qty</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="PurchasedOffering.findByPrice">
            <jpa:query>Select p from PurchasedOffering p where p.price=:price</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="PurchasedOffering.findByVatRate">
            <jpa:query>Select p from PurchasedOffering p where p.vatRate=:vatRate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="PurchasedOffering.findByExtentServices">
            <jpa:query>Select p from PurchasedOffering p where p.extentServices=:extentServices</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="PurchasedOffering.findByExtentSales">
            <jpa:query>Select p from PurchasedOffering p where p.extentSales=:extentSales</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="VatRatesPK" abs="false" class="VatRates" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1521215136542">
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.ArrayList;</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="country" id="_1521219938937744">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:element-collection target-class="java.math.BigDecimal" collection-type="java.util.List" v="true" xvt="" name="rates" dv="new ArrayList&lt;&gt;()" id="_1521217181971374">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" precision="5" scale="2"/>
            </jpa:element-collection>
            <jpa:id attribute-type="String" v="true" xvt="" name="countryId" id="_152121513663966">
                <jpa:des>the country's id (ex: France -&gt; FR)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="VatRates.findAll">
            <jpa:query>Select e from VatRates e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="VatRates.findByRate">
            <jpa:query>Select v from VatRates v where v.rate=:rate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="VatRates.findByCountry">
            <jpa:query>Select v from VatRates v where v.country=:country</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="SalePK" abs="false" class="Sale" superclassId="_1490172966686" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1522937360932">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1490176760174139</jpa:a>
            <jpa:a>_1490176780392140</jpa:a>
            <jpa:a>_150488904917075</jpa:a>
            <jpa:a>_15049019949221632</jpa:a>
            <jpa:post>this.cltype = OfferingType.SALE;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.cltype = OfferingType.SALE;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.OfferingType;</jpa:snp>
        <jpa:snp e="true">@Override
            public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="int" v="true" xvt="" name="qty" id="_152319956422378">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="false" connected-entity-id="_1524841860187" connected-attribute-id="_1524907636328594" v="true" xvt="" name="product" id="_1524907636303593">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
        </jpa:attributes>
        <jpa:nq e="false" name="Sale.findAll">
            <jpa:query>Select e from Sale e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Sale.findByQty">
            <jpa:query>Select s from Sale s where s.qty=:qty</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Sale.findByResellingPrice">
            <jpa:query>Select s from Sale s where s.resellingPrice=:resellingPrice</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="ExpenseItemPK" abs="false" class="ExpenseItem" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1524835087412">
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="description" id="_152483512063475">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="description field in ExpenseItem must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="amount" id="_152483513969976">
                <jpa:des>unit amount/price</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="qty" id="_152483518918977">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:mi v="1" m="A quantity must be provided in the ExpenseItem"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="java.math.BigDecimal" v="true" xvt="" name="vatRate" id="_152483521069678">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="vatrate field in ExpenseItem must not be null"/>
                </jpa:bv>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" precision="5" scale="2"/>
            </jpa:basic>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_152483508752773">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="ExpenseItem.findAll">
            <jpa:query>Select e from ExpenseItem e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ExpenseItem.findByDescription">
            <jpa:query>Select e from ExpenseItem e where e.description=:description</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ExpenseItem.findByAmount">
            <jpa:query>Select e from ExpenseItem e where e.amount=:amount</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ExpenseItem.findByQty">
            <jpa:query>Select e from ExpenseItem e where e.qty=:qty</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ExpenseItem.findByVatRate">
            <jpa:query>Select e from ExpenseItem e where e.vatRate=:vatRate</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="PurchaseExpensePK" abs="false" class="PurchaseExpense" superclassId="_1499512549878" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1524836293670">
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.cltype = ExpenseType.PURCHASE_EXPENSE;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;
            import fr.trendev.comptandye.utils.ExpenseType;</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="invoiceRef" id="_1524836395765710">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="The invoice reference cannot be null in a Purchase (extending an Expense)"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1524924325129" connected-attribute-id="_15249248621511435" v="true" xvt="" name="purchasedItems" dv="new LinkedList&lt;&gt;()" id="_15249248621531436">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:one-to-many>
        </jpa:attributes>
        <jpa:nq e="false" name="PurchaseExpense.findAll">
            <jpa:query>Select e from PurchaseExpense e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="PurchaseExpense.findByInvoiceRef">
            <jpa:query>Select p from PurchaseExpense p where p.invoiceRef=:invoiceRef</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="ProductReferencePK" abs="false" class="ProductReference" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1524840332929">
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="description" id="_1524840963347153">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="description field in ProductReference must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="brand" id="_1524841057219154">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="brand field in ProductReference must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:one-to-one own="true" orp="false" optional="true" primaryKey="false" connected-entity-id="_1503060694288" v="true" xvt="" name="business" id="_1524841100537155">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="business field in ProductReference must not be null"/>
                </jpa:bv>
            </jpa:one-to-one>
            <jpa:id attribute-type="String" v="true" xvt="" name="barcode" ft="false" id="_1524840333044151">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:column unique="false" nullable="false" insertable="true" updatable="false" length="255"/>
                <jpa:generated-value/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="ProductReference.findAll">
            <jpa:query>Select e from ProductReference e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ProductReference.findByDescription">
            <jpa:query>Select p from ProductReference p where p.description=:description</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ProductReference.findByBrand">
            <jpa:query>Select p from ProductReference p where p.brand=:brand</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyType="D" compositePrimaryKeyClass="ProductPK" abs="false" class="Product" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1524841860187">
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="int" v="true" xvt="" name="availableQty" id="_1524842384764168">
                <jpa:des>Quantity of available items</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="thresholdWarning" id="_1524842511104169">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:mi v="0" m="thresholdWarning in Product cannot be less than 0"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="thresholdSevere" id="_1524842543060170">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:mi v="0" m="thresholdSevere in Product cannot be less than 0"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1490101456632" connected-attribute-id="_1524841981058165" v="true" xvt="" name="professional" id="_1524841981057164">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-column name="PRODUCT_PRO_EMAIL" rc="EMAIL" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table=""/>
            </jpa:many-to-one>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1524840332929" v="true" xvt="" name="productReference" id="_1524911242644950">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-persist/>
                </jpa:cascade>
            </jpa:many-to-one>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1522937360932" connected-attribute-id="_1524907636303593" v="true" xvt="" name="sales" dv="new LinkedList&lt;&gt;()" id="_1524907636328594">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:one-to-many>
            <jpa:one-to-many orp="false" collection-type="java.util.List" connected-entity-id="_1524923958426" connected-attribute-id="_15249290639991474" v="true" xvt="" name="productRecords" dv="new LinkedList&lt;&gt;()" id="_15249290640001475">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:cascade>
                    <jpa:cascade-all/>
                </jpa:cascade>
            </jpa:one-to-many>
            <jpa:element-collection target-class="java.lang.String" collection-type="java.util.List" v="true" xvt="" name="comments" dv="new LinkedList&lt;&gt;()" id="_1524842604860171">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:element-collection>
        </jpa:attributes>
        <jpa:nq e="false" name="Product.findAll">
            <jpa:query>Select e from Product e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Product.findByAvailableQty">
            <jpa:query>Select p from Product p where p.availableQty=:availableQty</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Product.findByThresholdWarning">
            <jpa:query>Select p from Product p where p.thresholdWarning=:thresholdWarning</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Product.findByThresholdSevere">
            <jpa:query>Select p from Product p where p.thresholdSevere=:thresholdSevere</jpa:query>
        </jpa:nq>
        <jpa:el>
            <jpa:ln e="true" n="fr.trendev.comptandye.utils.listeners.ProductEntityListener"/>
        </jpa:el>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="ProductRecordPK" abs="true" class="ProductRecord" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1524923958426">
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_15249240375981409</jpa:a>
            <jpa:a>_15249241966021417</jpa:a>
            <jpa:a>_15249242863281418</jpa:a>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonTypeInfo(use = JsonTypeInfo.Id.NAME,&#xA;        include = JsonTypeInfo.As.EXISTING_PROPERTY,&#xA;        property = &quot;cltype&quot;,&#xA;        visible = true)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonSubTypes({&#xA;    @JsonSubTypes.Type(value = PurchasedItem.class,&#xA;            name = ProductRecordType.PURCHASED_ITEM)&#xA;    ,   @JsonSubTypes.Type(value = UsedItem.class,&#xA;            name = ProductRecordType.USED_ITEM)&#xA;    ,  @JsonSubTypes.Type(value = ReturnedItem.class,&#xA;            name = ProductRecordType.RETURNED_ITEM)&#xA;    ,  @JsonSubTypes.Type(value = SoldItem.class,&#xA;            name = ProductRecordType.SOLD_ITEM)})&#xA;"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.ProductRecordType;
            import fr.trendev.comptandye.utils.visitors.VariationOfProductRecordQtyVisitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:snp e="true">public void cancel(VariationOfProductRecordQtyVisitor visitor) {
            this.cancelled = true;
            this.cancellationDate = new Date();

            int availableQty = this.product.getAvailableQty() - this.accept(visitor);
            this.product.setAvailableQty(availableQty &lt; 0 ? 0 : availableQty);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" am="PROTECTED" name="cltype" id="_15249240375981409">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="cltype field in ProductRecord cannot be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="recordDate" dv="new Date()" id="_15249241966021417">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="recordDate field in ProductRecard cannot be null"/>
                </jpa:bv>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="qty" id="_15249242863281418">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="boolean" v="true" xvt="" name="cancelled" dv="false" id="_1526639365164203">
                <jpa:des>mark if a product record is cancelled or not</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="java.util.Date" v="true" xvt="" name="cancellationDate" id="_1526639467613204">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:temporal>TIMESTAMP</jpa:temporal>
                <jpa:column unique="false" nullable="true" insertable="true" updatable="true" column-definition="DATETIME(3)"/>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="false" connected-entity-id="_1524841860187" connected-attribute-id="_15249290640001475" v="true" xvt="" name="product" id="_15249290639991474">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_15249239586001407">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="ProductRecord.findAll">
            <jpa:query>Select e from ProductRecord e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ProductRecord.findByCltype">
            <jpa:query>Select p from ProductRecord p where p.cltype=:cltype</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ProductRecord.findByRecordDate">
            <jpa:query>Select p from ProductRecord p where p.recordDate=:recordDate</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ProductRecord.findByQty">
            <jpa:query>Select p from ProductRecord p where p.qty=:qty</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ProductRecord.findByCancelled">
            <jpa:query>Select p from ProductRecord p where p.cancelled=:cancelled</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ProductRecord.findByCancellationDate">
            <jpa:query>Select p from ProductRecord p where p.cancellationDate=:cancellationDate</jpa:query>
        </jpa:nq>
        <jpa:discriminator-column/>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="PurchasedItemPK" abs="false" class="PurchasedItem" superclassId="_1524923958426" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1524924325129">
        <jpa:con am="PUBLIC" e="true">
            <jpa:pre>super();</jpa:pre>
            <jpa:post>this.cltype = ProductRecordType.PURCHASED_ITEM;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.ProductRecordType;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:des>Recored added when an item is purchased(bought by the professional) must be linked to an Expense (Purchase)</jpa:des>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:many-to-one optional="true" primaryKey="false" connected-entity-id="_1524836293670" connected-attribute-id="_15249248621531436" v="true" xvt="" name="purchaseExpense" id="_15249248621511435">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
        </jpa:attributes>
        <jpa:nq e="false" name="PurchasedItem.findAll">
            <jpa:query>Select e from PurchasedItem e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="UsedItemPK" abs="false" class="UsedItem" superclassId="_1524923958426" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1525251875162">
        <jpa:con am="PUBLIC" e="true">
            <jpa:pre>super();</jpa:pre>
            <jpa:post>this.cltype = ProductRecordType.USED_ITEM;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.ProductRecordType;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:des>Record added when an Item is consumed during the delivery</jpa:des>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes/>
        <jpa:nq e="false" name="UsedItem.findAll">
            <jpa:query>Select e from UsedItem e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="ReturnedItemPK" abs="false" class="ReturnedItem" superclassId="_1524923958426" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1525253236164">
        <jpa:con am="PUBLIC" e="true">
            <jpa:pre>super();</jpa:pre>
            <jpa:post>this.cltype = ProductRecordType.RETURNED_ITEM;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.ProductRecordType;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:des>Recorded add when a Bill is cancelled and the product are returned</jpa:des>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:one-to-one own="true" orp="false" optional="true" primaryKey="false" connected-entity-id="_1490178979567" v="true" xvt="" name="cancelledBill" id="_1525257002758119">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-table name="RETURNED_ITEM">
                    <jpa:join-column name="ID" rc="ID" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table="PRODUCTRECORD"/>
                </jpa:join-table>
            </jpa:one-to-one>
        </jpa:attributes>
        <jpa:nq e="false" name="ReturnedItem.findAll">
            <jpa:query>Select e from ReturnedItem e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="SoldItemPK" abs="false" class="SoldItem" superclassId="_1524923958426" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1525258966197">
        <jpa:con am="PUBLIC" e="true">
            <jpa:pre>super();</jpa:pre>
            <jpa:post>this.cltype = ProductRecordType.SOLD_ITEM;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.ProductRecordType;
            import fr.trendev.comptandye.utils.Visitor;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:des>Record added when an item is sold and linked with an active Bill</jpa:des>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:one-to-one own="true" orp="false" optional="true" primaryKey="false" connected-entity-id="_1490178979567" v="true" xvt="" name="bill" id="_15252594803214145">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:join-table name="SOLD_ITEM">
                    <jpa:join-column name="ID" rc="ID" unique="false" nullable="true" insertable="true" updatable="true" column-definition="" table="PRODUCTRECORD"/>
                </jpa:join-table>
            </jpa:one-to-one>
        </jpa:attributes>
        <jpa:nq e="false" name="SoldItem.findAll">
            <jpa:query>Select e from SoldItem e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="ClassicExpensePK" abs="false" class="ClassicExpense" superclassId="_1499512549878" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1527253885059">
        <jpa:con am="PUBLIC" e="true">
            <jpa:post>this.cltype = ExpenseType.CLASSIC_EXPENSE;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.ExpenseType;</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes/>
        <jpa:nq e="false" name="ClassicExpense.findAll">
            <jpa:query>Select e from ClassicExpense e</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyType="D" compositePrimaryKeyClass="NotificationPK" abs="true" class="Notification" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1528899065548">
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1528899988622110</jpa:a>
            <jpa:a>_1528899165846100</jpa:a>
            <jpa:post>this.professional.getNotifications().add(this);</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonTypeInfo(use = JsonTypeInfo.Id.NAME,&#xA;        include = JsonTypeInfo.As.EXISTING_PROPERTY,&#xA;        property = &quot;cltype&quot;,&#xA;        visible = true)"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonSubTypes({&#xA;    @JsonSubTypes.Type(value = ThresholdAlert.class,&#xA;            name = NotificationType.THRESHOLD_ALERT)})&#xA;"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.NotificationType;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" am="PROTECTED" name="cltype" id="_1528899379066102">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="cltype field in Notification cannot be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="boolean" v="true" xvt="" name="checked" dv="false" id="_1528899897177109">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="fr.trendev.comptandye.utils.NotificationLevelEnum" v="true" xvt="" name="levelRank" id="_1528899988622110">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:enumerated>STRING</jpa:enumerated>
            </jpa:basic>
            <jpa:many-to-one optional="true" primaryKey="true" connected-entity-id="_1490101456632" connected-attribute-id="_1528899165848101" v="true" xvt="" name="professional" id="_1528899165846100">
                <jpa:an e="true" n="@com.fasterxml.jackson.annotation.JsonIgnore"/>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:many-to-one>
            <jpa:id attribute-type="Long" v="true" xvt="" name="id" id="_152889906588197">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:generated-value strategy="AUTO"/>
            </jpa:id>
        </jpa:attributes>
        <jpa:nq e="false" name="Notification.findAll">
            <jpa:query>Select e from Notification e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Notification.findByChecked">
            <jpa:query>Select n from Notification n where n.checked=:checked</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="Notification.findByLevelRank">
            <jpa:query>Select n from Notification n where n.levelRank=:levelRank</jpa:query>
        </jpa:nq>
        <jpa:discriminator-column/>
    </jpa:entity>
    <jpa:entity compositePrimaryKeyClass="ThresholdAlertPK" abs="false" class="ThresholdAlert" superclassId="_1528899065548" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1528899529391">
        <jpa:con am="PUBLIC" e="true">
            <jpa:pre>super();</jpa:pre>
            <jpa:post>this.cltype = NotificationType.THRESHOLD_ALERT;</jpa:post>
        </jpa:con>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_1528899988622110</jpa:a>
            <jpa:a>_1528899613411105</jpa:a>
            <jpa:a>_1528899679627106</jpa:a>
            <jpa:a>_1528991954925218</jpa:a>
            <jpa:a>_1528899683499107</jpa:a>
            <jpa:a>_1528899683903108</jpa:a>
            <jpa:a>_15289082626011767</jpa:a>
            <jpa:a>_1528899165846100</jpa:a>
            <jpa:pre></jpa:pre>
            <jpa:post>this.cltype = NotificationType.THRESHOLD_ALERT;</jpa:post>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.NotificationType;
            import fr.trendev.comptandye.utils.Visitor;
            import fr.trendev.comptandye.utils.NotificationLevelEnum;</jpa:snp>
        <jpa:snp e="true">public &lt;T&gt; T accept(Visitor&lt;T&gt; v){
            return v.visit(this);
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="barcode" id="_1528899613411105">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="Barcode in ThresholdAlert must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="description" id="_1528899679627106">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="Description in ThresholdAlert must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="brand" id="_1528991954925218">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="brand field in Threshold must not be null"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="threshold" id="_1528899683499107">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:mi v="0" m="threshold field in ThresholdAlert must not be less than 0"/>
                </jpa:bv>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="qty" id="_1528899683903108">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="fr.trendev.comptandye.utils.ThresholdAlertQualifierEnum" v="true" xvt="" name="qualifier" id="_15289082626011767">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
                <jpa:bv>
                    <jpa:nn m="qualifier field in ThresholdAlert must not be null"/>
                </jpa:bv>
                <jpa:enumerated>STRING</jpa:enumerated>
            </jpa:basic>
        </jpa:attributes>
        <jpa:nq e="false" name="ThresholdAlert.findAll">
            <jpa:query>Select e from ThresholdAlert e</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ThresholdAlert.findByBarcode">
            <jpa:query>Select p from ThresholdAlert p where p.barcode=:barcode</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ThresholdAlert.findByDescription">
            <jpa:query>Select p from ThresholdAlert p where p.description=:description</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ThresholdAlert.findByThreshold">
            <jpa:query>Select p from ThresholdAlert p where p.threshold=:threshold</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ThresholdAlert.findByQty">
            <jpa:query>Select p from ThresholdAlert p where p.qty=:qty</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ThresholdAlert.findByQualifier">
            <jpa:query>Select t from ThresholdAlert t where t.qualifier=:qualifier</jpa:query>
        </jpa:nq>
        <jpa:nq e="false" name="ThresholdAlert.findByBrand">
            <jpa:query>Select t from ThresholdAlert t where t.brand=:brand</jpa:query>
        </jpa:nq>
    </jpa:entity>
    <jpa:embeddable abs="false" class="OfferingSnapshot" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1512853437669">
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="IMPORT" e="true">import java.util.LinkedList;</jpa:snp>
        <jpa:snp loc="BEFORE_METHOD" e="true">public OfferingSnapshot(Offering offering) {
            this.cltype = offering.getCltype();
            this.name = offering.getName();
            this.shortname = offering.getShortname();
            this.price = offering.getPrice();
            this.duration = offering.getDuration();
            this.businesses = offering.getBusinesses();
            }</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="String" v="true" xvt="" name="cltype" id="_1512853518502564">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="name" id="_1512853526669565">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="String" v="true" xvt="" name="shortname" id="_1515170218296265">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="price" id="_1512853531016566">
                <jpa:des>Price in cents (1/100 of the currency)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="duration" id="_1512853538551567">
                <jpa:des>Duration (in minutes)</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:one-to-many orp="false" own="true" collection-type="java.util.List" connected-entity-id="_1503060694288" v="true" xvt="" name="businesses" dv="new LinkedList&lt;&gt;()" id="_151290448762472">
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:one-to-many>
        </jpa:attributes>
    </jpa:embeddable>
    <jpa:embeddable abs="false" class="OfferingExtents" v="true" jbn="false" xre="false" m="false" rootElement="_14901008082901" id="_1524046966670">
        <jpa:con am="PUBLIC" e="true"/>
        <jpa:con am="PUBLIC" e="true">
            <jpa:a>_152404700574475</jpa:a>
            <jpa:a>_152404701290576</jpa:a>
        </jpa:con>
        <jpa:annotation e="true" n="@com.fasterxml.jackson.annotation.JsonInclude(JsonInclude.Include.NON_EMPTY)"/>
        <jpa:snp loc="BEFORE_METHOD" e="true">public OfferingExtents(Offering offering) {
            //computes services/sales extents
            OfferingExtents oe = offering.accept(new OfferingExtentsVisitor());
            this.services = oe.services;
            this.sales = oe.sales;
            }</jpa:snp>
        <jpa:snp loc="IMPORT" e="true">import fr.trendev.comptandye.utils.visitors.OfferingExtentsVisitor;</jpa:snp>
        <jpa:ath>jsie</jpa:ath>
        <jpa:attributes>
            <jpa:basic attribute-type="int" v="true" xvt="" name="services" id="_152404700574475">
                <jpa:des>Extent of the Services</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
            <jpa:basic attribute-type="int" v="true" xvt="" name="sales" id="_152404701290576">
                <jpa:des>Extent of the Sales</jpa:des>
                <jpa:xwm nil="false" req="false"/>
                <jpa:xm nil="false" req="false"/>
            </jpa:basic>
        </jpa:attributes>
    </jpa:embeddable>
    <jpa:snp loc="BEFORE_PACKAGE" e="true">/** * This file was generated by the JPA Modeler */</jpa:snp>
    <jpa:c>
        <ct>java.util.List</ct>
        <ct>java.util.ArrayList</ct>
        <ct>java.util.LinkedList</ct>
        <ct>java.util.Map</ct>
        <ct>java.util.Set</ct>
        <ct>java.util.Collection</ct>
        <cit>java.util.ArrayList</cit>
        <cit>java.util.LinkedList</cit>
        <cit>java.util.HashSet</cit>
        <cit>java.util.TreeSet</cit>
        <cit>java.util.HashMap</cit>
    </jpa:c>
    <jpa:wsl>
        <jpa:ws n="Main" id="_14901008082912">
            <i ref="_1524924325129" x="20" y="2271">
                <el>
                    <e ref="_15249248621511435">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1490172966686" x="-670" y="648">
                <el>
                    <e ref="_150537690133858">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1512851997730269">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_15049019949221632">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1513010994296215">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1490704123469" x="-178" y="49"/>
            <i ref="_1506344869339" x="232" y="1514">
                <el>
                    <e ref="_1512851997729268">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1490101578444" x="351" y="49"/>
            <i ref="_1490100852900" x="351" y="-187">
                <el>
                    <e ref="_14901160469883436">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1490101520286" x="490" y="335">
                <el>
                    <e ref="_150652336703465">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1490180547173493">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1524836293670" x="-276" y="2329">
                <el>
                    <e ref="_15249248621531436">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1524840332929" x="-700" y="1453">
                <el>
                    <e ref="_1524841100537155">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1528899529391" x="-689" y="1926"/>
            <i ref="_1490281931338" x="405" y="965">
                <el>
                    <e ref="_1490283543806197">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1506010011241531">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_150513719043493">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1490101456632" x="-61" y="238">
                <el>
                    <e ref="_1490179812678394">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1503060822737133">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1504895192869453">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_15049019949231633">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_15049038294572106">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_150513285566867">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_150513719043594">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1524841981058165">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1528899165848101">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1521217263508375">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1490180547178494">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_149020649962680">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1514559136297133">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1490101555530" x="209" y="573">
                <el>
                    <e ref="_149028166301044">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1490283406937193">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1503055318751123">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1490181195213607">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1504895192868452">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1503077170356624">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1522937360932" x="-631" y="1090">
                <el>
                    <e ref="_1524907636303593">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1525253236164" x="420" y="2273">
                <el>
                    <e ref="_1525257002758119">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1528899065548" x="-679" y="1708">
                <el>
                    <e ref="_1528899165846100">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1490180671085" x="703" y="335">
                <el>
                    <e ref="_150652336702164">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1503060694288" x="-534" y="238"/>
            <i ref="_1525251875162" x="232" y="2271"/>
            <i ref="_1524923958426" x="232" y="1894">
                <el>
                    <e ref="_15249290639991474">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1490104062170" x="-413" y="393"/>
            <i ref="_1490113906035" x="-363" y="998">
                <el>
                    <e ref="_1513010994290214">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1524835087412" x="-534" y="2123"/>
            <i ref="_1490704206844" x="-86" y="851">
                <el>
                    <e ref="_15049038294552105">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1503077170376625">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1490101376664" x="60" y="49">
                <el>
                    <e ref="_14901093969381510">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1503055153023119">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1503055248950120">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1490113751330" x="-700" y="998"/>
            <i ref="_1525258966197" x="642" y="2271">
                <el>
                    <e ref="_15252594803214145">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1490206901623" x="294" y="1235">
                <el>
                    <e ref="_1503081214518630">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1490178979567" x="725" y="1235">
                <el>
                    <e ref="_150365567487858">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_15063449426451264">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_1490179812677393">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1499512549878" x="-295" y="1894">
                <el>
                    <e ref="_1505144351224341">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_150549566057859">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_152483548676279">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                    <e ref="_150513285565066">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1490101737208" x="-430" y="1"/>
            <i ref="_1524841860187" x="-305" y="1460">
                <el>
                    <e ref="_1524907636328594">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_15249290640001475">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1524841981057164">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_1524911242644950">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1512853437669" x="521" y="1668">
                <el>
                    <e ref="_151290448762472">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1490184243036" x="-7" y="1235"/>
            <i ref="_1490100823157" x="-7" y="-264">
                <el>
                    <e ref="_150807874242070">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                    <e ref="_14901160469863435">
                        <v st="1" si="12.0" cl="#ff0000"/>
                    </e>
                </el>
            </i>
            <i ref="_1490180682743" x="642" y="573">
                <el>
                    <e ref="_1490181195212606">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1527253885059" x="-522" y="2329"/>
            <i ref="_1506009883340" x="642" y="965">
                <el>
                    <e ref="_1506010011239530">
                        <v st="1" si="12.0" cl="#00ff00"/>
                    </e>
                </el>
            </i>
            <i ref="_1524046966670" x="9" y="1514"/>
            <i ref="_1521215136542" x="150" y="304"/>
        </jpa:ws>
    </jpa:wsl>
</jpa:entity-mappings>
